<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Namespace: @swarmy/lru-cache</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Namespace: @swarmy/lru-cache</h1>

    




<section>

<header>
    
        <h2>@swarmy/lru-cache</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LruCache.js.html">LruCache.js</a>, <a href="LruCache.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".exports.cacheTransaction"><span class="type-signature">(static) </span>exports.cacheTransaction<span class="signature">(callbackOrPromise)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    Pass a callback or a promise. All cache changes happening inside the callback or promise will be batched into a single
 change object that will be dispatched to handlers after the callback/promise has finished. If this is called while there
 is already another transaction in progress, the two transactions will just be batched together.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callbackOrPromise</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type">Promise</span>


            
            </td>

            

            

            <td class="description last">callback or promise to be executed within the transaction</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LruCache.js.html">LruCache.js</a>, <a href="LruCache.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    void
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".exports.clearAllCaches"><span class="type-signature">(static) </span>exports.clearAllCaches<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>
    

    



<div class="description">
    Clear (invalidate) all existing caches.
Will dispatch a single change event with all changes batched together.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LruCache.js.html">LruCache.js</a>, <a href="LruCache.js.html#line567">line 567</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".exports.getCache"><span class="type-signature">(static) </span>exports.getCache<span class="signature">(valueType)</span><span class="type-signature"> &rarr; {<a href="LruCache.html">LruCache</a>}</span></h4>
    

    



<div class="description">
    Get a LruCache for the given valueType.
If a cache for this type already exists, the existing cache instance will be returned (LruCache is a singleton per value type).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>valueType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The type of object being cached.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LruCache.js.html">LruCache.js</a>, <a href="LruCache.js.html#line551">line 551</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="LruCache.html">LruCache</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    - A lru-cache object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="LruCache.html">LruCache</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".exports.registerCacheChangedHandler"><span class="type-signature">(static) </span>exports.registerCacheChangedHandler<span class="signature">(changedHandler, valueTypes)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    Register a handler that is called when value(s) get updated/inserted/removed in/to/from a cache.
If the cache has already exceeded its maxSize, there is no way to know if a cache.set (or setAll) is an insert or
an update (because JS does not yet provide weak references), so an insert event can be insert or update.
The returned handle can be used to unregister the handler, or to deactivate/activate it (initial state is active).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changedHandler</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A function that will be called with an object parameter of the following shape:
                  {
                    valueTypes: Set(),
                    <valueType>: {
                      inserts: [{key, value, alternateKeys, order}],
                      clearRemoves: [{key, value, alternateKeys, order}],
                      lruRemoves: [{key, value, alternateKeys, order}],
                      deleteRemoves: [{key}],
                    },
                    ...
                  }
                  The order can be used to determine e.g. if an entry was first inserted and then deleted, or first
                  deleted and then re-inserted (can happen in cache transactions).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueTypes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>
|

<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">An array or a single string specifying the cache value types the handler should be called for (default: null)
                If null, it will be called for all object types
                If not null and a bulk (transactional) change has multiple valueTypes of which only some are of
                interest for the handler, then also the other types will be part of the argument (if at least one other active listener for the other types exist)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="LruCache.js.html">LruCache.js</a>, <a href="LruCache.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    handlerHandle - An object with methods unregister, activate, deactivate and isRegistered and with fields isActive, valueType and changedHandler
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="LruCache.html">LruCache</a></li></ul><h3>Namespaces</h3><ul><li><a href="@swarmy_lru-cache.html">@swarmy/lru-cache</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Dec 06 2018 23:25:55 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>